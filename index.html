<!DOCTYPE html>
<html lang="pt-BR" data-theme="light">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Classificador de Produtos - Tuboluc</title>
    <meta name="description" content="Sistema de classificaÃ§Ã£o automÃ¡tica de produtos por estoque - Tuboluc">
    
    <!-- CSS -->
    <link rel="stylesheet" href="style.css" />
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ“¦</text></svg>">
    
    <!-- SheetJS XLSX -->
    <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>
    
    <!-- Google Fonts Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <!-- HEADER -->
        <header class="header">
            <h1 class="title">Classificador de Produtos â€“ Tuboluc</h1>
            
            <!-- BotÃ£o tema -->
            <button id="toggleTheme" class="theme-btn" aria-label="Alternar tema claro/escuro">
                <span class="theme-icon">ğŸŒ“</span>
                <span class="theme-text">Alternar Tema</span>
            </button>
        </header>

        <!-- UPLOAD -->
        <section class="card upload-card" id="uploadSection">
            <label class="upload-label" for="fileInput">
                <span class="upload-icon">ğŸ“</span>
                <span class="upload-text">Carregar Arquivo</span>
            </label>
            
            <input
                id="fileInput"
                class="input-hidden"
                type="file"
                accept=".xlsx,.xls,.csv"
                aria-label="Selecionar arquivo Excel ou CSV"
            />
            
            <p class="upload-info">
                Formatos aceitos: <strong>XLSX</strong>, <strong>XLS</strong> ou <strong>CSV</strong>
                <br>
                <small>Os dados sÃ£o processados localmente no seu navegador</small>
            </p>
            
            <!-- ERRO -->
            <div id="errorBox" class="error-box" role="alert"></div>
        </section>

        <!-- STATS -->
        <section id="statsSection" class="stats hidden">
            <div class="stat stat-green">
                <span class="stat-label">ğŸ“ˆ Acima de 10</span>
                <span id="count_acima10" class="stat-value">0</span>
                <small class="stat-sub">Estoque elevado</small>
            </div>
            
            <div class="stat stat-blue">
                <span class="stat-label">ğŸ“¦ Entre 5â€“10</span>
                <span id="count_entre5_10" class="stat-value">0</span>
                <small class="stat-sub">Estoque mÃ©dio</small>
            </div>
            
            <div class="stat stat-yellow">
                <span class="stat-label">âš ï¸ Entre 1â€“5</span>
                <span id="count_entre1_5" class="stat-value">0</span>
                <small class="stat-sub">Estoque baixo</small>
            </div>
            
            <div class="stat stat-red">
                <span class="stat-label">ğŸ“‰ Zerados (â‰¤1)</span>
                <span id="count_zerados" class="stat-value">0</span>
                <small class="stat-sub">Necessita reposiÃ§Ã£o</small>
            </div>
        </section>

        <!-- FILTROS -->
        <section id="filterSection" class="filters hidden">
            <div class="filter-group">
                <label for="searchInput" class="filter-label">
                    <span class="filter-icon">ğŸ”</span>
                    Buscar item:
                </label>
                <input
                    id="searchInput"
                    type="text"
                    class="filter-input"
                    placeholder="Digite referÃªncia, descriÃ§Ã£o ou NCM..."
                    aria-label="Campo de busca por produtos"
                />
            </div>
            
            <div class="filter-group">
                <label for="sortSelect" class="filter-label">
                    <span class="filter-icon">ğŸ“Š</span>
                    Ordenar por:
                </label>
                <select id="sortSelect" class="filter-input" aria-label="Ordenar tabela">
                    <option value="descricao">DescriÃ§Ã£o (A â†’ Z)</option>
                    <option value="descricao_desc">DescriÃ§Ã£o (Z â†’ A)</option>
                    <option value="quantidade">Quantidade (Maior â†’ Menor)</option>
                    <option value="quantidade_desc">Quantidade (Menor â†’ Maior)</option>
                    <option value="preco">PreÃ§o (Maior â†’ Menor)</option>
                    <option value="preco_desc">PreÃ§o (Menor â†’ Maior)</option>
                    <option value="referencia">ReferÃªncia</option>
                </select>
            </div>
            
            <button id="resetFilters" class="btn btn-secondary" aria-label="Limpar filtros aplicados">
                <span class="btn-icon">ğŸ”„</span>
                <span class="btn-text">Limpar Filtros</span>
            </button>
        </section>

        <!-- ABAS -->
        <section id="tabsSection" class="tabs-section hidden" role="tablist">
            <button class="tab tab-active" role="tab" aria-selected="true" data-tab="todos">
                <span class="tab-icon">ğŸŒŸ</span>
                <span class="tab-text">Todos os Itens</span>
                <span id="badge_todos" class="badge">0</span>
            </button>
            
            <button class="tab" role="tab" aria-selected="false" data-tab="acima10">
                <span class="tab-icon">ğŸ“ˆ</span>
                <span class="tab-text">Acima de 10</span>
                <span id="badge_acima10" class="badge">0</span>
            </button>
            
            <button class="tab" role="tab" aria-selected="false" data-tab="entre5_10">
                <span class="tab-icon">ğŸ“¦</span>
                <span class="tab-text">Entre 5â€“10</span>
                <span id="badge_entre5_10" class="badge">0</span>
            </button>
            
            <button class="tab" role="tab" aria-selected="false" data-tab="entre1_5">
                <span class="tab-icon">âš ï¸</span>
                <span class="tab-text">Entre 1â€“5</span>
                <span id="badge_entre1_5" class="badge">0</span>
            </button>
            
            <button class="tab" role="tab" aria-selected="false" data-tab="zerados">
                <span class="tab-icon">ğŸ“‰</span>
                <span class="tab-text">Zerados</span>
                <span id="badge_zerados" class="badge">0</span>
            </button>
        </section>

        <!-- EXPORTAÃ‡ÃƒO -->
        <section id="exportSection" class="export-section hidden">
            <button id="exportCsvBtn" class="btn btn-success" aria-label="Exportar CSV da categoria atual">
                <span class="btn-icon">ğŸ’¾</span>
                <span class="btn-text">Exportar CSV da Categoria</span>
            </button>
            <p class="export-info">
                Exporta apenas os produtos visÃ­veis na tabela abaixo
            </p>
        </section>

        <!-- TABELA -->
        <section id="tableSection" class="table-section hidden">
            <div class="table-container">
                <table id="productsTable">
                    <thead>
                        <tr>
                            <th class="th-reference">ReferÃªncia</th>
                            <th class="th-description">DescriÃ§Ã£o</th>
                            <th class="th-quantity">Quantidade</th>
                            <th class="th-category">Categoria</th>
                            <th class="th-group">Grupo</th>
                            <th class="th-price">PreÃ§o</th>
                            <th class="th-actions">AÃ§Ãµes</th>
                        </tr>
                    </thead>
                    <tbody id="product-table-body">
                        <!-- Dados serÃ£o inseridos aqui via JavaScript -->
                    </tbody>
                </table>
            </div>
            <div id="noResults" class="no-results hidden">
                <div class="no-results-content">
                    <p class="no-results-text">Nenhum produto encontrado com os filtros atuais.</p>
                    <button id="clearFiltersBtn" class="btn btn-secondary">
                        <span class="btn-icon">ğŸ”„</span>
                        <span class="btn-text">Limpar Filtros</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- EMPTY STATE -->
        <section id="emptyState" class="empty-state">
            <div class="empty-state-content">
                <div class="empty-icon">ğŸ“¦</div>
                <h2 class="empty-title">Carregue seu arquivo para comeÃ§ar</h2>
                <p class="empty-subtitle">
                    O sistema classificarÃ¡ automaticamente os itens em 4 categorias de estoque
                    e permitirÃ¡ filtrar, ordenar e exportar os dados.
                </p>
                <div class="empty-actions">
                    <button id="uploadBtn" class="btn btn-primary">
                        <span class="btn-icon">ğŸ“</span>
                        <span class="btn-text">Carregar Arquivo</span>
                    </button>
                    <button id="sampleDataBtn" class="btn btn-success">
                        <span class="btn-icon">ğŸ§ª</span>
                        <span class="btn-text">Carregar Dados de Exemplo</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- FOOTER -->
        <footer class="footer">
            <div class="footer-content">
                <p class="footer-text">
                    <span class="footer-icon">ğŸ“¦</span>
                    Classificador de Produtos â€¢ Tuboluc
                </p>
                <p class="footer-info">
                    Processamento 100% local â€¢ Nenhum dado enviado para servidores
                </p>
            </div>
        </footer>
    </div>

    <!-- App JS -->
    <script src="app.js"></script>
</body>
</html>